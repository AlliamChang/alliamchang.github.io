<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="613px" height="483px" viewBox="-0.5 -0.5 613 483"><defs><clipPath id="mx-clip-440-117-152-134-0"><rect x="440" y="117" width="152" height="134"/></clipPath><clipPath id="mx-clip-440-337-152-64-0"><rect x="440" y="337" width="152" height="64"/></clipPath></defs><g><rect x="16" y="16" width="160" height="160" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 160px; padding-top: 16px; margin-left: 16px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; width: 162px; height: 160px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap; "><p style="margin:0px;margin-top:4px;text-align:center;"><b>Cache</b></p><hr /><p style="margin:0px;margin-left:4px;">+ locks: [256]sync.Mutex</p><p style="margin:0px;margin-left:4px;">+ segments: [256]segment</p><hr /><p style="margin:0px;margin-left:4px;">+ Set(key []byte, value []byte,</p><p style="margin:0px;margin-left:4px;">         expireSeconds int)</p><p style="margin:0px;margin-left:4px;">+ Get(key []byte)</p><p style="margin:0px;margin-left:4px;">+ TTL(key []byte)</p><p style="margin:0px;margin-left:4px;">+ Del(key []byte)</p><p style="margin:0px;margin-left:4px;">...</p></div></div></div></foreignObject></g><rect x="16" y="266" width="160" height="200" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 200px; padding-top: 266px; margin-left: 16px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; width: 162px; height: 200px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap; "><p style="margin:0px;margin-top:4px;text-align:center;"><b>segment</b></p><hr /><p style="margin:0px;margin-left:4px;">+ rb: RingBuf</p><p style="margin:0px;margin-left:4px;">+ segId: int</p><p style="margin:0px;margin-left:4px;">+ _: uint32</p><p style="margin:0px;margin-left:4px;">+ entryCount: int64</p><p style="margin:0px;margin-left:4px;">+ totalCount: int64</p><p style="margin:0px;margin-left:4px;">+ totalTime: int64</p><p style="margin:0px;margin-left:4px;">+ timer: Timer</p><p style="margin:0px;margin-left:4px;">+ vacuumLen: int64</p><p style="margin:0px;margin-left:4px;">+ slotLens [256]int32</p><p style="margin:0px;margin-left:4px;">+ slotCap: int32</p><p style="margin:0px;margin-left:4px;">+ slotsData: []entryPtr</p><hr /><p style="margin:0px;margin-left:4px;"><br /></p></div></div></div></foreignObject></g><rect x="246" y="321" width="160" height="90" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 90px; padding-top: 321px; margin-left: 246px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; width: 162px; height: 90px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap; "><p style="margin:0px;margin-top:4px;text-align:center;"><b>RingBuf</b></p><hr /><p style="margin:0px;margin-left:4px;">+ begin: int64</p><p style="margin:0px;margin-left:4px;">+ end: int64</p><p style="margin:0px;margin-left:4px;">+ data: []byte</p><p style="margin:0px;margin-left:4px;">+ index: int</p><hr /><p style="margin:0px;margin-left:4px;">+ method(): Type</p></div></div></div></foreignObject></g><path d="M 96 266 L 95.64 201.99" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 95.51 176.99 L 102.93 189.45 L 95.64 201.99 L 88.22 189.53 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 246 366 L 201.99 366" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 176.99 366 L 189.49 358.65 L 201.99 366 L 189.49 373.35 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 436 112 L 436 86 L 596 86 L 596 112" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 436 112 L 436 254 L 596 254 L 596 112" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 436 112 L 596 112" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="515.5" y="103.5">entryHdr</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-440-117-152-134-0)" font-size="12px"><text x="441.5" y="129.5">+ accessTime: uint32</text><text x="441.5" y="143.5">+ expireAt: uint32</text><text x="441.5" y="157.5">+ keyLen: uint16</text><text x="441.5" y="171.5">+ hash16: uint16</text><text x="441.5" y="185.5">+ valLen: uint32</text><text x="441.5" y="199.5">+ valCap: uint32</text><text x="441.5" y="213.5">+ deleted: bool</text><text x="441.5" y="227.5">+ slotId: uint8</text><text x="441.5" y="241.5">+ reserved: uint16</text></g><path d="M 436 250 L 596 250" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 436 332 L 436 306 L 596 306 L 596 332" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 436 332 L 436 404 L 596 404 L 596 332" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 436 332 L 596 332" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="515.5" y="323.5">entryPtr</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-440-337-152-64-0)" font-size="12px"><text x="441.5" y="349.5">+ offset: int64</text><text x="441.5" y="363.5">+ hash16: uint16</text><text x="441.5" y="377.5">+ keyLen: uint16</text><text x="441.5" y="391.5">+ reserved: uint32</text></g><path d="M 436 400 L 596 400" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/></g></svg>